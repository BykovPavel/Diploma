# План автоматизации тестирования
###	Введение
Цель данного плана - обеспечить высокое качество тестирования приложения и его автоматизацию. Мы будем проверять позитивные и негативные сценарии использования, убедившись, что приложение работает корректно и безопасно.

##	Тестовые данные
Валидные данные для заполнения полей включают:
1.	Номер карты: 16 цифр в формате **** **** **** ****
(В нашем случае 4444 4444 4444 4441 или 4444 4444 4444 4442)
2. Месяц: от 01 до 12, с учетом текущего месяца, если указан текущий год
3. Год: последние две цифры года, не ранее текущего года и не более чем за 5 лет вперед от текущего года
4. Владелец: буквенные символы латинского алфавита
5. CVC: 3 цифры

##	Инструменты и фреймворки
Для реализации автоматизации тестирования будут использованы следующие инструменты:
*	IntelliJ IDEA: среда разработки ПО для написания кода проекта.
*	Java 11: язык программирования проекта.
*	Git: система управления версиями для фиксации изменений в коде.
*	Gradle: система для автоматизации сборки проектов.
*	SUT aqa-shop.jar
*	JUnit 5: библиотека для модульного тестирования на Java.
*	Selenide: фреймворк для автоматизированного UI тестирования веб-приложений.
*	Lombok: библиотека для сокращения шаблонного кода Java.
*	Java Faker: библиотека для генерации тестовых данных.
*	Docker: для развертывания СУБД MySQL и PostgreSQL, а также Node.js и дальнейшего тестирования приложения.
*	SQL: язык для работы с данными в реляционных базах данных.
*	Allure: создание наглядных отчетов по результатам тестирования.


##	Тестовые сценарии
Каждый сценарий необходимо выполнить в разных «режимах» формы. Через кнопку «Купить» и через кнопку «Купить в кредит»

### Позитивные сценарии:
#### 1. Успешная покупка тура при вводе валидных данных во все поля.
Шаги:
* Нажать кнопку "Купить"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры
* Нажать кнопку "Продолжить"

**Ожидаемый результат:** Появляется всплывающее окно "Успешно! Операция одобрена банком."

В БД запись - APPROVED

#### 2.	Успешная покупка тура в кредит при вводе валидных данных во все.
Шаги:
* Нажать кнопку "Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры
* Нажать кнопку "Продолжить"

**Ожидаемый результат:** Появляется всплывающее окно "Успешно! Операция одобрена банком."

В БД запись - APPROVED

### Негативные сценарии:
#### 1.	Заполнение формы с пустыми полями.
Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Оставить поле "Номер карты" пустым
* Оставить поле "Месяц" пустым
* Оставить поле "Год" пустым
* Оставить поле "Владелец" пустым
* Оставить поле "Номер карты" пустым
* Нажать кнопку "Продолжить"

**Ожидаемый результат:** Под каждым полем появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений

#### 2.	Сценарии с картой
1. Заполнение формы с пустым полем "Номер карты".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Оставить поле "Номер карты" пустым
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Номер карты" появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений
2. Заполнение формы с невалидным номером карты (невалидная карта).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4442
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции."

В БД -запись DECLINED
3. Заполнение формы с невалидным номером карты (номер карты не из набора).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 5555 5555 5555 5555
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Появляется всплывающее окно "Ошибка! Банк отказал в проведении операции."

В БД -никаких изменений
4. Заполнение формы с невалидным номером карты (номер карты из 15 цифр).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 5555 5555 5555 555
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Номер карты" появляется сообщение "Неверный формат"

В БД -никаких изменений
5. Заполнение формы с невалидным номером карты (номер карты из 1 цифры).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 5
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Номер карты" появляется сообщение "Неверный формат"

В БД -никаких изменений
6. Заполнение формы с невалидным номером карты (ввод текста).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - пять
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Номер карты" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений

#### 3. Сценарии с датой
1) Заполнение формы с пустым полем "Месяц".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Оставить поле "Месяц" пустым.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Месяц" появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений
2) Заполнение формы с невалидными данными в поле "Месяц" (больше 12).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - 13
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Месяц" появляется сообщение "Неверно указан срок действия карты"

В БД -никаких изменений
3) Заполнение формы с невалидными данными в поле "Месяц" (00).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - 00
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Месяц" появляется сообщение "Неверно указан срок действия карты"

В БД -никаких изменений
4) Заполнение формы с неверным форматом месяца.

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - 1
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Месяц" появляется сообщение "Неверный формат"

В БД -никаких изменений
5) Заполнение формы с вводом текста в поле "Месяц".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - Январь
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Месяц" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений
6) Заполнение формы с пустым полем "Год".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Оставить поле "Год" пустым.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Год" появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений
7) Заполнение формы с невалидными данными в поле "Год" (прошедший год).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - 22
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Год" появляется сообщение "Истёк срок действия карты"

В БД -никаких изменений
8) Заполнение формы с неверным форматом года.

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - 1
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Год" появляется сообщение "Неверный формат"

В БД -никаких изменений
9) Заполнение формы с вводом текста в поле "Год".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - Двадцатый
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Год" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений

#### 4.	Сценарии с Владельцем карты
1)	Заполнение формы с пустым полем "Владелец".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Оставить поле "Владелец" пустым.
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений
2)	Заполнение формы с невалидными данными в поле "Владелец" (отсутствует фамилия).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - Michael
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Неверный формат"

В БД -никаких изменений
3)	Заполнение формы с невалидными данными в поле "Владелец" (все буквы в нижнем регистре).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - michael scott
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Неверный формат"

В БД -никаких изменений
4)	Заполнение формы с лишними данными в поле "Владелец" (отчество).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - Michael Dwightovich Scott 
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Неверный формат"

В БД -никаких изменений
5)	Заполнение формы с невалидными данными в поле "Владелец" (имя и фамилия на кириллице).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - Дуайт Шрут
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений
6)	Заполнение формы с невалидными данными в поле "Владелец" (имя на кириллице, фамилия на латинице).

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - Дуайт Schrute
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений
7)	Заполнение формы с вводом цифр в поле "Владелец".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - 55555
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений
8)	Заполнение формы с вводом спецсимволов в поле "Владелец".

Шаги:
* Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - ???
* Заполнить поле "CVC/CVV" - валидное значение, 3 цифры

**Ожидаемый результат:** Под полем "Владелец" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений

#### 5.	Сценарии с CVC/CVV
1)	Заполнение формы с пустым полем "CVC/CVV".

Шаги:
* * Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Оставить поле "CVC/CVV" пустым.

**Ожидаемый результат:** Под полем "CVC/CVV" появляется сообщение "Поле обязательно для заполнения"

В БД -никаких изменений
2)	Заполнение формы с неверным форматом кода в поле "CVC/CVV".

Шаги:
* * Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - 69

**Ожидаемый результат:** Под полем "CVC/CVV" появляется сообщение "Неверный формат"

В БД -никаких изменений
3)	Заполнение формы с вводом текста в поле "CVC/CVV".

Шаги:
* * Нажать кнопку "Купить"/"Купить в кредит"
* Заполнить поле "Номер карты" - 4444 4444 4444 4441
* Заполнить поле "Месяц" - валидное значение, текущий месяц.
* Заполнить поле "Год" - валидное значение, текущий год.
* Заполнить поле "Владелец" - валидное значение, имя и фамилия латинскими буквами.
* Заполнить поле "CVC/CVV" - абв

**Ожидаемый результат:** Под полем "CVC/CVV" появляется сообщение "Поле содержит недопустимые символы"

В БД -никаких изменений

V.	Риски
В ходе автоматизации тестирования могут возникнуть следующие риски:
•		Ограниченная способность тестов покрывать все возможные сценарии.
•		Возможное отсутствие доступа к базам данных.
•		Сложности, связанные с работой с Docker и двумя БД - MySQL и PostgreSQL.
•		Отсутствие ТЗ, т.к. на своем собственном опыте приходится разбираться, как работает SUT, и самому решать какой именно результат можно считать ошибкой и т.п..
•		Необходимость рефакторинга тестов при изменениях в приложении.
•		Сложности с поиском CSS-селекторов для UI тестирования (из-за отсутствия атрибутов "test-id").

##	Интервальная оценка с учетом рисков в часах.
1.	Изучение задания, создание окружения (настройка SUT и docker, билда, плагинов и т.д.), написание краткого тест плана. – 8 часов.
2.	Написание тестов и улучшенного тест плана, прогон автотестов – 24 часа.
3.	Время на устранение ошибок – 10 часов.
4.	Подготовка отчетов по итогам тестирования (заведение багов с подробным описанием) – 15 часов
5.	Подготовка отчетов по автоматизации – 10 часов. 
Итого: приблизительно 70 часов.

###	План сдачи работ.
Утверждение плана в ближайшие дни.
Проработка и написание автотестов – 14 дней
Подготовка всех отчетных документов, после утверждения автотестов куратором – 7 дней.
